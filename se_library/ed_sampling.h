#pragma once

#include "exchange_data.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct filtered_sad_
{
	int index = 0;
	uint demand_filter = 0xfffff; // 20 бит
	uint supply_filter = 0xfffff; // 20 бит
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct ed_sampling_
{
	std::vector<filtered_sad_> data;

	ed_sampling_() = default;
	ed_sampling_(const _exchange_data& _ed);
	i64 size() const{ return data.size(); }
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

ed_sampling_ fltr_demand(const ed_sampling_& eds);
ed_sampling_ fltr_supply(const ed_sampling_& eds);
